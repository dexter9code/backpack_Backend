{"mappings":"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","sources":["public/js/index.js","public/js/login.js","public/js/alerts.js","public/js/updatingSetting.js"],"sourcesContent":["// import \"@babel/polyfill\";\r\nimport { login, Logout } from \"./login\";\r\nimport { updateData, updatePassword } from \"./updatingSetting\";\r\n\r\n//Dom Elements\r\nconst loginForm = document.querySelector(\".form--login\");\r\nconst logoutBtn = document.getElementById(\"logoutBTN\");\r\nconst form = document.querySelector(\".form-user-data\");\r\nconst passwordForm = document.querySelector(\".form-user-settings\");\r\n\r\nif (loginForm)\r\n  loginForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById(\"email\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    login(email, password);\r\n  });\r\n\r\nif (logoutBtn) logoutBtn.addEventListener(\"click\", Logout);\r\n\r\nif (form)\r\n  form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById(\"name\").value;\r\n    const email = document.getElementById(\"email\").value;\r\n    updateData(name, email);\r\n  });\r\n\r\nif (passwordForm)\r\n  passwordForm.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const currentPassword = document.getElementById(\"password-current\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    const confirmPassword = document.getElementById(\"password-confirm\").value;\r\n\r\n    await updatePassword(currentPassword, password, confirmPassword);\r\n\r\n    document.getElementById(\"password-current\").value = \"\";\r\n    document.getElementById(\"password\").value = \"\";\r\n    document.getElementById(\"password-confirm\").value = \"\";\r\n  });\r\n\r\n// \"currentPassword\":\"testuser2\",\r\n//   \"password\":\"newtestuser2\",\r\n//   \"confirmPassword\":\"newtestuser2\"\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport const login = async function (email, password) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: `http://localhost:8080/backpack/api/r1/user/login`,\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Logged in Successfully\");\r\n      window.setTimeout(() => {\r\n        location.assign(`/overview`);\r\n      }, 2000);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", error.response?.data.message);\r\n  }\r\n};\r\n\r\nexport const Logout = async function () {\r\n  try {\r\n    const res = await axios({\r\n      method: \"GET\",\r\n      url: `http://localhost:8080/backpack/api/r1/user/logout`,\r\n    });\r\n    if (res.data.status === \"Success\") location.reload(true);\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Error while logging out!\");\r\n  }\r\n};\r\n","const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\nexport const showAlert = (type, msg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\r\n  window.setTimeout(hideAlert, 2000);\r\n};\r\n","import { showAlert } from \"./alerts\";\r\n\r\nexport const updateData = async function (name, email) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"PATCH\",\r\n      url: `http://localhost:8080/backpack/api/r1/user/updateMe`,\r\n      data: {\r\n        email,\r\n        name,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"update successfully\");\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", error.response.data.message);\r\n  }\r\n};\r\n\r\nexport const updatePassword = async function (\r\n  currentPassword,\r\n  password,\r\n  confirmPassword\r\n) {\r\n  try {\r\n    const res = await axios({\r\n      method: \"PATCH\",\r\n      url: `http://localhost:8080/backpack/api/r1/user/updatePassword`,\r\n      data: {\r\n        currentPassword,\r\n        password,\r\n        confirmPassword,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === \"Success\") {\r\n      showAlert(\"success\", \"Password changed successfully\");\r\n      window.setTimeout(() => {\r\n        location.reload(true);\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", error.response.data.message);\r\n  }\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}